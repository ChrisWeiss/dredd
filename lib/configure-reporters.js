// Generated by CoffeeScript 1.6.3
var CliReporter, Reporter, RestReporter, XUnitReporter, configureReporters;

Reporter = require('./reporter');

XUnitReporter = require('./x-unit-reporter');

CliReporter = require('./cli-reporter');

RestReporter = require('./rest-reporter');

configureReporters = function(config) {
  config.reporter = new Reporter();
  if (!config.options.silent) {
    config.reporter.addReporter(new CliReporter);
  }
  if (config.options.reporter === 'junit') {
    config.reporter.addReporter(new XUnitReporter(config.options.output));
  }
  if ((process.env['DREDD_REST_TOKEN'] != null) && (process.env['DREDD_REST_SUITE'] != null)) {
    config.options.restReporter = {
      apiUrl: process.env['DREDD_REST_URL'] || 'https://api.apiary.io',
      apiToken: process.env['DREDD_REST_TOKEN'],
      suite: process.env['DREDD_REST_SUITE']
    };
    return config.reporter.addReporter(new RestReporter(config));
  }
};

module.exports = configureReporters;
